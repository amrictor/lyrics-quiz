(this["webpackJsonplyrics-quiz"]=this["webpackJsonplyrics-quiz"]||[]).push([[0],{104:function(e,t,n){},175:function(e,t,n){e.exports=n(395)},180:function(e,t,n){},206:function(e,t){},220:function(e,t){},222:function(e,t){},388:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},394:function(e,t,n){},395:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(170),r=n.n(s),o=(n(180),n(7)),c=n(8),l=n(11),u=n(9),d=n(10),h=n(22),m=n(2),p=n(396),f=(n(104),a.Component,n(99)),g=n.n(f),v=(n(388),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={time:0},n.passTime=n.passTime.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){setInterval(this.passTime,1e3)}},{key:"passTime",value:function(){this.props.forfeit_status||this.props.gameWon()||this.setState({time:this.state.time+1})}},{key:"padNumber",value:function(e){if(e<100)return("0"+e).slice(-2)}},{key:"render",value:function(){return i.a.createElement("div",{id:"timer",className:this.props.forfeit_status?"forfeit":this.props.gameWon()?"won":""},this.padNumber(Math.floor(this.state.time/3600)%24),":",this.padNumber(Math.floor(this.state.time/60)%60),":",this.padNumber(this.state.time%60))}}]),t}(a.Component)),y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={discoveredWords:[],forfeit:!1},n.getLyrics=n.getLyrics.bind(Object(m.a)(n)),n.setSong=n.setSong.bind(Object(m.a)(n)),n.discover=n.discover.bind(Object(m.a)(n)),n.forfeit=n.forfeit.bind(Object(m.a)(n)),n.checkWord=n.checkWord.bind(Object(m.a)(n)),n.gameWon=n.gameWon.bind(Object(m.a)(n)),n.lyricDiscovered=n.lyricDiscovered.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getSong()}},{key:"componentWillUpdate",value:function(e){this.props.match.params.genius_id!==e.match.params.genius_id&&(this.setState({song:void 0}),this.getSong())}},{key:"getSong",value:function(){var e=this.getLyrics,t=new XMLHttpRequest;t.open("GET","https://api.genius.com/songs/"+this.props.match.params.genius_id+"?access_token=4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg",!0),t.onreadystatechange=function(){4===t.readyState&&200===t.status&&(1!==t.getResponseHeader("Content-Type").indexOf("text")&&e(JSON.parse(t.responseText).response.song))},t.send()}},{key:"getLyrics",value:function(e){var t=this.setSong,n=new XMLHttpRequest;n.open("GET","https://cors-anywhere.herokuapp.com/"+e.url,!0),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status&&1!==n.getResponseHeader("Content-Type").indexOf("text")){var a=g.a.load(n.responseText),i={};console.log(e),i.title=e.title?e.title:"N/A",i.album=e.album?e.album.name:"N/A",i.artist=e.primary_artist?e.primary_artist.name:"N/A",i.lyrics=a(".lyrics").text().replace(/\[.*\]/g,"").trim().replace(/[\u2019\u2018]/g,"'").split(/[\r\n, ?!:;()."-]+/).filter((function(e){return""!==e&&e})),console.log(i.lyrics),t(i)}},n.send()}},{key:"forfeit",value:function(){this.setState({forfeit_status:!0})}},{key:"setSong",value:function(e){this.setState({song:e,discoveredWords:[],forfeit:!1})}},{key:"discover",value:function(e,t){var n=this.state.discoveredWords;n[t]=e,this.setState({discoveredWords:n})}},{key:"wordsEquivalent",value:function(e,t){return e.toLowerCase().replace(/'/g,"").trim()===t.toLowerCase().replace(/'/g,"").trim()}},{key:"lyricDiscovered",value:function(e){var t=this;return this.state.discoveredWords.map((function(n){return t.wordsEquivalent(n,e)})).includes(!0)}},{key:"checkWord",value:function(e){var t=this,n=e.target.value;this.lyricDiscovered(n)||this.state.song.lyrics.forEach((function(a,i){t.wordsEquivalent(a,n)&&(t.discover(a,i),e.target.value="")}))}},{key:"gameWon",value:function(){return"undefined"!==typeof this.state.song&&JSON.stringify(this.state.discoveredWords)===JSON.stringify(this.state.song.lyrics)}},{key:"render",value:function(){var e=this;return console.log(this.state.song,"undefined"!=typeof this.state.song),i.a.createElement("div",{id:"outer_display"},"undefined"!=typeof this.state.song?i.a.createElement("div",{id:"display"},this.gameWon()&&i.a.createElement("div",{id:"winner"},"You won!"),i.a.createElement(p.a,{type:"search",disabled:this.state.forfeit_status||this.gameWon(),onChange:this.checkWord}),i.a.createElement("div",{id:"info"},i.a.createElement("div",null,this.state.discoveredWords.filter((function(e){return e})).length," / ",this.state.song.lyrics.length),i.a.createElement(v,{forfeit_status:this.state.forfeit_status,gameWon:this.gameWon}),i.a.createElement("button",{disabled:this.state.forfeit_status||this.gameWon(),onClick:this.forfeit},"Forfeit")),(this.state.forfeit_status||this.gameWon())&&i.a.createElement("div",{id:"song_title",className:this.state.forfeit_status?"forfeit":"won"},this.state.song.title),i.a.createElement("div",{id:"lyrics"},this.state.song.lyrics.map((function(t,n){return i.a.createElement("div",{key:n,className:"word "+(e.lyricDiscovered(t)?"":e.state.forfeit_status?"forfeit":"undiscovered")},t)})))):"Loading...")}}]),t}(a.Component),b=(n(389),n(174)),E=(n(390),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={expanded:!1},n.toggle=n.toggle.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){return i.a.createElement("div",{id:"sidebar",className:this.state.expanded?" expanded":""},i.a.createElement("div",{id:"header"},i.a.createElement("div",{id:"title",className:this.state.expanded?" expanded":"hidden"}),i.a.createElement(b.a,{id:"icon",onClick:this.toggle})),i.a.createElement("div",{id:"children",className:this.state.expanded?" expanded":"hidden"},this.props.children))}}]),t}(a.Component)),k=(n(391),n(43)),O=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={search:"",results:[]},n.updateInput=n.updateInput.bind(Object(m.a)(n)),n.getSearchResults=n.getSearchResults.bind(Object(m.a)(n)),n.search=n.search.bind(Object(m.a)(n)),n.listenForEnter=n.listenForEnter.bind(Object(m.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getSearchResults",value:function(e){var t=e.response.hits.map((function(e){return{title:e.result.title,artist:e.result.primary_artist.name,lyrics_path:e.result.path,song_path:e.result.api_path}}));this.setState({results:t})}},{key:"getGenius",value:function(e,t){var n=new XMLHttpRequest;console.log("https://api.genius.com"+e+"?access_token=4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg"),n.open("GET","https://api.genius.com"+e+"&access_token=4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg",!0),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(1!==n.getResponseHeader("Content-Type").indexOf("text")&&(console.log(JSON.parse(n.responseText)),t(JSON.parse(n.responseText))))},n.send()}},{key:"renderSearch",value:function(){return this.state.results.map((function(e){return i.a.createElement("div",null,i.a.createElement(k.b,{to:e.song_path},i.a.createElement("button",null,e.title," by ",i.a.createElement("i",null,e.artist))))}))}},{key:"updateInput",value:function(e){this.setState({search:e.target.value})}},{key:"search",value:function(){this.getGenius("/search?q="+encodeURI(this.state.search),this.getSearchResults)}},{key:"listenForEnter",value:function(e){13===e.keyCode&&this.search()}},{key:"render",value:function(){return i.a.createElement("div",{id:"upload"},i.a.createElement("div",{id:"search"},i.a.createElement(p.a,{placeholder:"Search music...",onChange:this.updateInput,onKeyDown:this.listenForEnter}),i.a.createElement("button",{onClick:this.search},"Search")),this.renderSearch())}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(window.location.pathname),i.a.createElement("div",{id:"game"},i.a.createElement(E,null,i.a.createElement("div",{id:"menu"},i.a.createElement(O,{setSong:this.setSong}))),i.a.createElement(h.c,null,i.a.createElement(h.a,{exact:!0,path:"/",render:function(e){return i.a.createElement("div",{id:"home"},i.a.createElement("div",{className:"big"},"How well do you know your favorite songs?"),i.a.createElement("div",null,"Start by expanding the sidebar and searching for a song to play."),i.a.createElement("div",null,"Randomization coming soon."))}}),i.a.createElement(h.a,{path:"/songs/:genius_id",render:function(e){return i.a.createElement(y,e)}})))}}]),t}(a.Component),S=Object(h.f)(j);n(394);var w=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(k.a,null,i.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[175,1,2]]]);
//# sourceMappingURL=main.4802be26.chunk.js.map