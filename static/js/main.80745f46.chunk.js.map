{"version":3,"sources":["components/Timer.js","components/Song.js","components/Sidebar.js","components/Search.js","components/Playlist.js","components/Artist.js","components/Game.js","App.js","serviceWorker.js","index.js"],"names":["Timer","props","state","time","passTime","bind","this","interval","setInterval","clearInterval","forfeit_status","gameWon","setState","number","slice","id","className","padNumber","Math","floor","Component","Song","discoveredWords","getLyrics","setSong","discover","forfeit","checkWord","lyricDiscovered","getSong","prevProps","match","params","genius_id","song","undefined","request","XMLHttpRequest","open","onreadystatechange","readyState","status","getResponseHeader","indexOf","JSON","parse","responseText","response","send","url","$","cheerio","load","s","title","album","name","primary_artist","text","replace","trim","split","filter","word","index","temp","lyric","toLowerCase","map","w","wordsEquivalent","includes","event","target","value","lyrics","forEach","stringify","Input","type","disabled","onChange","length","onClick","key","rel","href","Sidebar","expanded","toggle","children","Search","search","results","updateInput","getSearchResults","listenForEnter","obj","console","log","hits","hit","result","artist","lyrics_path","path","song_path","api_path","image","song_art_image_url","endpoint","callback","getGenius","encodeURI","keyCode","placeholder","onKeyDown","src","alt","getArtist","songInPlaylist","addSong","Playlist","history","saveToFile","loadFile","clearPlaylist","updateTitle","loadRandomSong","getRandomSong","reader","FileReader","onload","fileContent","playlist","updatePlaylist","contents","readAsText","files","source","filename","window","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","a","document","createElement","download","encodeURIComponent","body","appendChild","click","removeChild","options","location","pathname","random","push","getElementById","removeSong","Artist","songs","page","loading","getSongs","cleanUp","artist_id","getArtistSongs","nextPage","next_page","e","stopPropagation","setPage","Game","checkCookie","exdays","d","Date","setTime","getTime","expires","toUTCString","cookie","cname","ca","i","c","charAt","substring","playlist_str","getCookie","setCookie","splice","reload","exact","render","withRouter","App","Boolean","hostname","ReactDOM","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.80745f46.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport \"../styles/Timer.scss\"\r\n\r\n\r\nclass Timer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            time: 0, \r\n        }\r\n        this.passTime = this.passTime.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(this.passTime, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    passTime() {\r\n        if(this.props.forfeit_status || this.props.gameWon()) return\r\n        this.setState({ time: this.state.time+1 })\r\n    }\r\n\r\n    padNumber(number) {\r\n        if(number<100 ) return (\"0\"+number).slice(-2)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"timer\" className={this.props.forfeit_status ? \"forfeit\" : this.props.gameWon() ? \"won\" : \"\"}>\r\n                 {this.padNumber(Math.floor(this.state.time / (60*60)) % 24)}:{this.padNumber(Math.floor(this.state.time / 60) % 60)}:{this.padNumber(this.state.time % 60)}\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Timer;","import React, {Component} from 'react'\r\nimport { Input } from 'reactstrap'\r\nimport cheerio from 'cheerio';\r\nimport Timer from './Timer'\r\nimport \"../styles/Display.scss\"\r\n\r\nclass Song extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            discoveredWords : [],\r\n            forfeit_status: false,\r\n        }\r\n        this.getLyrics = this.getLyrics.bind(this);\r\n        this.setSong = this.setSong.bind(this);\r\n        this.discover = this.discover.bind(this)\r\n        this.forfeit = this.forfeit.bind(this)\r\n        this.checkWord = this.checkWord.bind(this)\r\n        this.gameWon = this.gameWon.bind(this)\r\n        this.lyricDiscovered = this.lyricDiscovered.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getSong();\r\n    }\r\n    \r\n    componentDidUpdate(prevProps) {\r\n        if(this.props.match.params.genius_id !== prevProps.match.params.genius_id) {\r\n            this.setState({song: undefined, forfeit_status: false, discoveredWords: []});\r\n            this.getSong();\r\n        }\r\n    }\r\n\r\n    getSong() {\r\n        const getLyrics = this.getLyrics;\r\n        var request = new XMLHttpRequest();\r\n        const token = \"4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg\"\r\n        request.open('GET', 'https://api.genius.com/songs/' + this.props.match.params.genius_id + '?access_token=' + token, true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    getLyrics(JSON.parse(request.responseText).response.song)\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    getLyrics(song) {\r\n        const setSong = this.setSong;\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', 'https://cors-anywhere.herokuapp.com/'+ song.url, true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    const $ = cheerio.load(request.responseText)\r\n                    let s = {}\r\n                    s[\"title\"] = song.title ? song.title : \"N/A\"\r\n                    s[\"album\"] = song.album ? song.album.name : \"N/A\"\r\n                    s[\"artist\"] = song.primary_artist ? song.primary_artist.name : \"N/A\"\r\n                    s[\"url\"] = song.url\r\n                    s[\"lyrics\"]= $('.lyrics').text().replace(/\\[.*\\]/g, \"\").trim().replace(/[’‘]/g, '\\'').split((/[\\r\\n\\s,?!:;().…\"“”—-]+/)).filter((word) => !word.match(/^[\\s']+$/) && word)\r\n                    setSong(s)\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    forfeit() {\r\n        this.setState({forfeit_status: true})\r\n    }\r\n    \r\n    setSong(song) {\r\n        this.setState({song: song, discoveredWords: [], forfeit: false})\r\n    }\r\n\r\n    discover(word, index) {\r\n        let temp = this.state.discoveredWords\r\n        temp[index]=word;\r\n        this.setState({discoveredWords : temp})\r\n    }\r\n\r\n    wordsEquivalent(lyric, word) {\r\n        return lyric.toLowerCase().replace(/'/g, \"\").trim() === word.toLowerCase().replace(/'/g, \"\").trim()\r\n    }\r\n\r\n    lyricDiscovered(word) {\r\n        return (this.state.discoveredWords.map((w) => this.wordsEquivalent(w, word)).includes(true))\r\n    }\r\n\r\n    checkWord(event) {\r\n        let word = event.target.value\r\n        if (this.lyricDiscovered(word)) return;\r\n        this.state.song.lyrics.forEach((w, index) => {\r\n            if(this.wordsEquivalent(w, word)) {\r\n                this.discover(w, index);\r\n                event.target.value = \"\"\r\n            }\r\n        })\r\n    }\r\n\r\n    gameWon(){\r\n        if (typeof this.state.song === \"undefined\") return false;\r\n        return JSON.stringify(this.state.discoveredWords) === JSON.stringify(this.state.song.lyrics)\r\n    }\r\n    \r\n    render(){\r\n        return ( \r\n            <div id=\"outer_display\">\r\n                \r\n                {typeof this.state.song != \"undefined\"\r\n                ? <div id=\"display\">\r\n                    {this.gameWon() && <div id=\"winner\">You won!</div>}\r\n                    <Input type=\"search\" disabled={this.state.forfeit_status || this.gameWon()} onChange={this.checkWord}/> \r\n                    <div id=\"info\">\r\n                        <div>{this.state.discoveredWords.filter((word) => word).length} / {this.state.song.lyrics.length}</div>\r\n                        <Timer forfeit_status={this.state.forfeit_status} gameWon={this.gameWon}/>\r\n                        <button disabled={this.state.forfeit_status || this.gameWon()} onClick={this.forfeit}>Forfeit</button>\r\n                    </div>\r\n                    {(this.state.forfeit_status || this.gameWon()) && <div id=\"song_title\" className={this.state.forfeit_status ? \"forfeit\" : \"won\"}>{this.state.song.title}</div>}\r\n                    <div id=\"lyrics\">\r\n                        {this.state.song.lyrics.map((word, index) => <div key={index} className={\"word \" + (this.lyricDiscovered(word) ? \"\" : this.state.forfeit_status ? \"forfeit\" : \"undiscovered\")}>{word}</div>)}\r\n                    </div>\r\n                    {(this.state.forfeit_status || this.gameWon()) && <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.state.song.url}>Notice something wrong with these lyrics? <br/>Help fix them by following this link and suggesting a change!</a>}\r\n                    \r\n                </div>\r\n                : \"Loading...\"\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n} export default Song;","import React, { Component } from 'react'\r\nimport { FaBars as MenuIcon } from 'react-icons/fa'\r\nimport \"../styles/Sidebar.scss\"\r\n\r\nclass Sidebar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            expanded: false\r\n        }\r\n        this.toggle = this.toggle.bind(this);\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({ expanded: !this.state.expanded })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"sidebar\" className={this.state.expanded ? \" expanded\" : \"hidden\"}>\r\n                <div id=\"header\">\r\n                    <div id=\"title\" className={this.state.expanded ? \" expanded\" : \"hidden\"}>{this.props.title}</div>                   \r\n                    <div className=\"spacer\"></div>\r\n                    <MenuIcon id=\"icon\" className={this.state.expanded ? \"\" : \"icon-hidden\"} onClick={this.toggle}/>\r\n                </div>\r\n                <div id=\"children\" className={this.state.expanded ? \" expanded\" : \"hidden\"}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Sidebar;","import React, {Component} from 'react'\r\nimport { Input } from 'reactstrap'\r\n\r\nimport { FaPlusSquare as Add, FaCheckSquare as Check } from 'react-icons/fa'\r\n\r\nimport '../styles/Search.scss'\r\n\r\n\r\n\r\nclass Search extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            search: \"\",\r\n            results: []\r\n        }\r\n        this.updateInput = this.updateInput.bind(this)\r\n        this.getSearchResults = this.getSearchResults.bind(this)\r\n        this.search = this.search.bind(this)\r\n        this.listenForEnter = this.listenForEnter.bind(this)\r\n    }\r\n\r\n    getSearchResults(obj) {\r\n        console.log(obj)\r\n        let results = obj.response.hits.map((hit) => {return {title: hit.result.title, artist: {name: hit.result.primary_artist.name, id: hit.result.primary_artist.id}, lyrics_path: hit.result.path, song_path: hit.result.api_path, image: hit.result.song_art_image_url}})\r\n        console.log(results)\r\n        this.setState({results: results})\r\n    }\r\n\r\n    getGenius(endpoint, callback) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', 'https://api.genius.com' + endpoint + '&access_token=4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg', true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    console.log(JSON.parse(request.responseText))\r\n                    callback(JSON.parse(request.responseText))\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    // renderSearch(){\r\n    //     return(\r\n    //         this.state.results.map((result)=><div><a href={\"/#\" +result.song_path}><button>{result.title} by <i>{result.artist}</i></button></a></div>)\r\n    //     )\r\n\r\n    // }\r\n    updateInput(event) {\r\n        this.setState({search: event.target.value})\r\n    }\r\n\r\n    search() {\r\n        this.getGenius('/search?per_page=35&q='+encodeURI(this.state.search), this.getSearchResults)\r\n    }\r\n\r\n    \r\n\r\n    listenForEnter(event) {\r\n        if (event.keyCode === 13) {\r\n            this.search();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div id=\"search\">\r\n                \r\n                <div id=\"search_bar\">\r\n                    <Input placeholder=\"Search music...\" onChange={this.updateInput}  onKeyDown={this.listenForEnter}/>\r\n                    <button onClick={this.search}>Search</button>\r\n                </div>\r\n\r\n                <div id=\"search_results\" className={this.state.results.length === 0 ? \"empty\": \"\"}>\r\n                    {this.state.results.map((result)=>\r\n                        <div className=\"result\" key={result.song_path}>\r\n                            <div className=\"info\">\r\n                                <img src={result.image} alt=\"\"/>\r\n                                <div className=\"text\">\r\n                                    <a className=\"song\" title=\"Play this song\" href={\"/#\" +result.song_path}>{result.title}</a> \r\n                                    <div className=\"artist\" title=\"View more from this artist\" onClick={() => this.props.getArtist(result.artist)}><i>{result.artist.name}</i></div>\r\n                                </div>\r\n                            </div>\r\n                            {this.props.songInPlaylist(result) \r\n                            ? <Check className=\"static\" title=\"Already in playlist\"/>\r\n                            : <Add  className=\"button\" title=\"Add to playlist\" onClick={()=>this.props.addSong(result)}/>}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Search;","import React, {Component} from 'react'\r\n// import { Input } from 'reactstrap'\r\n\r\nimport { FaTimesCircle as Remove, FaRandom as Shuffle, FaSave as Save, FaUpload as Upload, FaTimes as Clear } from 'react-icons/fa'\r\n\r\nimport '../styles/Search.scss'\r\n\r\nclass Playlist extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            history: []\r\n        }\r\n        this.saveToFile = this.saveToFile.bind(this)\r\n        this.loadFile = this.loadFile.bind(this)\r\n        this.clearPlaylist = this.clearPlaylist.bind(this)\r\n        this.updateTitle = this.updateTitle.bind(this)\r\n        this.loadRandomSong = this.loadRandomSong.bind(this)\r\n        this.getRandomSong = this.getRandomSong.bind(this)\r\n    }\r\n\r\n    loadFile(event){\r\n        let reader = new FileReader();\r\n        reader.onload = function(event) {\r\n            let fileContent = event.target.result;\r\n            let playlist = JSON.parse(fileContent);\r\n            this.props.updatePlaylist(playlist.name, playlist.contents);\r\n        }.bind(this);\r\n        reader.readAsText(event.target.files[0]);\r\n    }\r\n\r\n    saveToFile(){\r\n        let source = JSON.stringify(this.props.playlist);\r\n        let filename = this.props.playlist.name.toLowerCase().replace(/ /g, \"_\") +\".json\";\r\n        let contentType = \"application/json;charset=utf-8;\";\r\n\r\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n            let blob = new Blob([decodeURIComponent(encodeURI(source))], { type: contentType });\r\n            navigator.msSaveOrOpenBlob(blob, filename);\r\n        } else {\r\n            let a = document.createElement('a');\r\n            a.download = filename;\r\n            a.href = 'data:' + contentType + ',' + encodeURIComponent(source);\r\n            a.target = '_blank';\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            document.body.removeChild(a);\r\n        }\r\n    }\r\n\r\n    updateTitle(event) {\r\n        this.props.updatePlaylist(event.target.value, this.props.playlist.contents)\r\n    }\r\n\r\n    clearPlaylist() {\r\n        this.props.updatePlaylist(this.props.playlist.name, []);\r\n    }\r\n\r\n    getRandomSong() {\r\n        var options = this.props.playlist.contents.map((s) => s.song_path).filter((song)=>!this.state.history.includes(song))\r\n\r\n        if(options.length===0) {\r\n            this.setState({history: [this.props.location.pathname]})\r\n            var index = Math.floor(Math.random() * (this.props.playlist.contents.length-1));\r\n            return this.props.playlist.contents.filter((song)=>song.song_path!==this.props.location.pathname)[index].song_path\r\n        }\r\n        return options[Math.floor(Math.random() * options.length)]\r\n    }\r\n\r\n    loadRandomSong() {\r\n        if(this.props.playlist.contents.length===0) return;\r\n        let history = this.state.history;\r\n        history.push(this.props.location.pathname)\r\n        window.location.href = \"/#\" + this.getRandomSong()\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div id=\"playlist\">\r\n                <div id=\"heading\">\r\n                    <input id=\"playlist_title\" onChange={this.updateTitle} value={this.props.playlist.name} title=\"Name your playlist\"/>\r\n                    <div id=\"toolbar\">\r\n                        <Shuffle title=\"Load random song\" className={\"button\" + (this.props.playlist.contents.length === 0 ? \" disabled\": \"\")} onClick={this.loadRandomSong}/>\r\n                        <Clear title=\"Clear playlist\" className={\"button\" + (this.props.playlist.contents.length === 0 ? \" disabled\": \"\")} onClick={this.clearPlaylist}/>\r\n                        <Save title=\"Save playlist\" className={\"button\" + (this.props.playlist.contents.length === 0 ? \" disabled\": \"\")} onClick={this.saveToFile}/>\r\n                        {<Upload title=\"Load a saved playlist\" className=\"button\" onClick={()=> {document.getElementById('fileinput').click()}}/>}\r\n                        <input type=\"file\" id=\"fileinput\" onChange={(event)=>{console.log(\"Upload\");this.loadFile(event);}}/>\r\n                    </div>\r\n                </div>\r\n                <div id=\"search_results\">\r\n                    {this.props.playlist.contents.length > 0 ? this.props.playlist.contents.map((result, index)=>\r\n                        <div className=\"result\" key={result.song_path}>\r\n                            <div className=\"info\">\r\n                                <img src={result.image} alt=\"\"/>\r\n                                <div className=\"text\">\r\n                                    <a className=\"song\" title=\"Play this song\" href={\"/#\" +result.song_path}>{result.title}</a> \r\n                                    <div className=\"artist\" title=\"View more from this artist\" onClick={() => this.props.getArtist(result.artist)}><i>{result.artist.name}</i></div>\r\n                                </div>\r\n                            </div>\r\n                            <Remove title=\"Add to playlist\" className=\"button\" onClick={()=>{this.props.removeSong(index)}}/>\r\n                        </div>\r\n                    ) : <div id=\"alt\">Search for songs to add to your playlist!</div>}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default Playlist;","import React, {Component} from 'react'\r\nimport \"../styles/Artist.scss\"\r\n\r\nimport { FaPlusSquare as Add, FaCheckSquare as Check} from 'react-icons/fa'\r\n\r\n\r\nclass Artist extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            songs: [],\r\n            page: 1,\r\n            loading: true\r\n        }\r\n        this.getSongs = this.getSongs.bind(this)\r\n        this.cleanUp = this.cleanUp.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.props.artist_id, this.props.artist_id===undefined)\r\n        if(this.props.artist === undefined || this.state.songs.length !== 0) return\r\n        else {\r\n            console.log(\"get artist songs\")\r\n            this.getArtistSongs();\r\n        }\r\n    }\r\n\r\n    getArtistSongs() {\r\n        // if(page===null) {\r\n        //     this.setState({loading: false})\r\n        //     return;\r\n        // }\r\n        this.setState({loading: true})\r\n        const getSongs = this.getSongs\r\n        var request = new XMLHttpRequest();\r\n        const token = \"4qtBMiQeR5pD1zFm-vGmFV6j5khGAiRQskTCLXyuGbxeYGbnXrTnXIyA5n2iXjdg\"\r\n        request.open('GET', 'https://api.genius.com/artists/' + this.props.artist.id + '/songs?per_page=15&page=' + this.state.page + '&access_token=' + token, true);\r\n        request.onreadystatechange = () => {\r\n            if (request.readyState === 4 && request.status === 200) {\r\n                var type = request.getResponseHeader('Content-Type');\r\n                if (type.indexOf(\"text\") !== 1) {\r\n                    getSongs(JSON.parse(request.responseText).response)\r\n                }\r\n            }\r\n        }\r\n        request.send();\r\n    }\r\n\r\n    getSongs(response) {\r\n        console.log(response)\r\n        var results = response.songs.map((hit) => { return {title: hit.title, artist: {name: hit.primary_artist.name, id: hit.primary_artist.id}, lyrics_path: hit.path, song_path: hit.api_path, image: hit.song_art_image_url}})\r\n        this.setState({songs: results, loading: false, nextPage: response.next_page}, ()=>console.log(this.state.nextPage, !this.state.nextPage))\r\n    }\r\n\r\n    cleanUp(e) {\r\n        console.log(e)\r\n        this.setState({songs: []}, this.props.getArtist, ()=>console.log(this.state.songs))\r\n    }\r\n    \r\n    setPage(page) {\r\n        if(page === this.state.page || page < 1 || (page > this.state.page && !this.state.nextPage)) return;\r\n        this.setState({page: page}, this.getArtistSongs)\r\n    }\r\n\r\n    stopPropagation(e) {\r\n        e.stopPropagation()\r\n    }\r\n\r\n    render(){\r\n        \r\n        return ( \r\n            <div id=\"modal\" onClick={this.cleanUp}>\r\n                <div id=\"body\" onClick={this.stopPropagation}>\r\n                    <div id=\"title\">{this.props.artist.name}</div>\r\n                    <div id=\"songs\">\r\n                        {this.state.loading ? <div id=\"loading\">Loading...</div> : this.state.songs.map((result) => \r\n                            <div className=\"result\" key={result.song_path}>\r\n                                <div className=\"info\">\r\n                                    <img src={result.image} alt=\"\"/>\r\n                                    <div className=\"text\">\r\n                                        <a className=\"song\" title=\"Play this song\" href={\"/#\" +result.song_path}>{result.title}</a> \r\n                                        <i>{result.artist.name}</i>\r\n                                    </div>\r\n                                </div>\r\n                                {this.props.songInPlaylist(result) \r\n                            ? <Check className=\"static\" title=\"Already in playlist\"/>\r\n                            : <Add  className=\"button\" title=\"Add to playlist\" onClick={()=>this.props.addSong(result)}/>}\r\n                            </div>)}\r\n                    </div>\r\n                    <div id=\"pagination\">\r\n                        <div className=\"link\" onClick={()=>this.setPage(1)}>First</div>\r\n                        <div className={\"link \" + (this.state.page===1 ? \"disabled\" : \"\")} onClick={()=>this.setPage(this.state.page-1)}> {\"<<\"} Previous</div>\r\n                        <div>{this.state.page}</div>\r\n                        <div className={\"link \" + (!this.state.nextPage ? \"disabled\" : \"\")} onClick={()=>this.setPage(this.state.page+1)}> Next {\">>\"}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n} export default Artist;","import React, {Component} from 'react'\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport Song from './Song'\r\nimport \"../styles/Game.scss\"\r\nimport Sidebar from './Sidebar'\r\nimport Search from './Search'\r\nimport Playlist from './Playlist'\r\nimport Artist from './Artist'\r\n\r\n\r\nclass Game extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            playlist: {name: \"My Playlist\", contents: []},\r\n        }\r\n        this.addSong = this.addSong.bind(this)\r\n        this.removeSong = this.removeSong.bind(this)\r\n        this.updatePlaylist = this.updatePlaylist.bind(this)\r\n        this.songInPlaylist = this.songInPlaylist.bind(this)\r\n        this.getArtist = this.getArtist.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkCookie();\r\n    }\r\n\r\n    setCookie(name, value, exdays=0) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n        var expires = (exdays===0) ? \"\" : \"expires=\"+d.toUTCString() + \";path=/\";\r\n        document.cookie = name + \"=\" + JSON.stringify(value) + \";\" + expires;\r\n    }\r\n\r\n    getCookie(cname) {\r\n        let name = cname + \"=\";\r\n        let ca = document.cookie.split(';');\r\n        for(let i = 0; i < ca.length; i++) {\r\n            let c = ca[i];\r\n            while (c.charAt(0) === ' ') {\r\n                c = c.substring(1);\r\n            }\r\n            if (c.indexOf(name) === 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    checkCookie() {\r\n        let playlist_str = this.getCookie(\"playlist\");\r\n        if (playlist_str !== \"\") {\r\n            let playlist = JSON.parse(playlist_str);\r\n            if(!playlist.contents) this.updatePlaylist(playlist.name, []);\r\n            else this.updatePlaylist(playlist.name, playlist.contents);\r\n        }\r\n    }\r\n\r\n\r\n    getArtist(artist) {\r\n        this.setState({ artist: artist}, ()=> console.log(this.state.artist))\r\n    }\r\n\r\n    songInPlaylist(song) {\r\n        return this.state.playlist.contents.map((s)=>JSON.stringify(s)).includes(JSON.stringify(song))\r\n    }\r\n\r\n    updatePlaylist(name, contents) {\r\n        this.setState({playlist: {name: name, contents: contents}}, () => this.setCookie(\"playlist\", this.state.playlist))\r\n    }\r\n\r\n    addSong(song) {\r\n        if(this.songInPlaylist(song)) return;\r\n        var contents = this.state.playlist.contents;\r\n        contents.push(song);\r\n        this.updatePlaylist(this.state.playlist.name, contents);\r\n    }\r\n\r\n    removeSong(index) {\r\n        var contents = this.state.playlist.contents;\r\n        contents.splice(index, 1);\r\n        this.updatePlaylist(this.state.playlist.name, contents);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"game\">\r\n                <Sidebar title={<div id=\"apptitle\" onClick={()=>{window.location.href=\"/#/\"; window.location.reload()}} title=\"a lyric guessing game\">Versed</div>}>\r\n                    <Search addSong={this.addSong} songInPlaylist={this.songInPlaylist} getArtist={this.getArtist}/>\r\n                    <Playlist playlist={this.state.playlist} removeSong={this.removeSong} updatePlaylist={this.updatePlaylist} location={this.props.location} getArtist={this.getArtist}/>\r\n                </Sidebar>\r\n                {this.state.artist!==undefined && <Artist artist={this.state.artist} getArtist={this.getArtist} addSong={this.addSong} songInPlaylist={this.songInPlaylist} />}\r\n                <Switch>\r\n                    <Route\r\n                        exact\r\n                        path=\"/\"\r\n                        render={(props) => \r\n                            <div id=\"home\">\r\n                                <div className=\"big\">How well do you know your favorite songs?</div>\r\n                                <div>Start by expanding the sidebar and searching for a song to play.</div>\r\n                                <div>Add songs to a playlist and randomize if you like a challenge.</div>\r\n                            </div>}\r\n                    />\r\n                    <Route\r\n                        path=\"/songs/:genius_id\"\r\n                        render={(props) => <Song {...props}/>}\r\n                    />\r\n                </Switch> \r\n            </div>\r\n        );\r\n    \r\n    }\r\n} export default withRouter(Game);","import React from 'react';\nimport Game from './components/Game'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Game/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter as Router } from \"react-router-dom\";\n\n\nReactDOM.render(\n    <Router>\n        <App />\n    </Router>, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}